<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/highlight/kimbie.dark.css">
    <script src="js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <title>Irmin</title>
  </head>

  <body>
    <header>
      <nav class="menu">
        <ul>
          <li><a href="https://github.com/mirage/irmin">Github</a></li>
          <li><a href="/tutorial">Tutorial</a></li>
          <li><a href="https://mirage.github.io/irmin">API</a></li>
          <li><a href="#">News</a></li>
        </ul>
      </nav>
      <div class="logo">
        <a href="/"><img src="img/logo_white.png" alt="Irmin logo"></a>
      </div>
    </header>

    <section class="intro wrapper">
      <div class="logo">
        <a href="/"><img class="logo" src="img/logo.png" alt="Irmin logo"></a>
        <h1>A distributed database built on the same principles as Git</h1>
        <a href="https://github.com/mirage/irmin" class="button github">
          <img src="img/icons/github.svg" alt="Github">Github
        </a>
        <a href="#" class="button dark">Get Started</a>
      </logo>
    </section>

    <section class="features wrapper">
      <h2>Irmin is an OCaml library for building mergeable, branchable distributed data stores.</h2>

      <div class="list">
        <div class="feature">
          <img src="img/icons/snapshot.png" alt="Built-in snapshotting">
          <h3>Built-in snapshotting</h3>
          <p>Backup and restore your data at any point in time.</p>
        </div>

        <div class="feature">
          <img src="img/icons/storage.png" alt="Storage agnostic">
          <h3>Storage agnostic</h3>
          <p>You can use Irmin on top of your own storage layer.</p>
        </div>

        <div class="feature">
          <img src="img/icons/datatype.png" alt="Custom datatypes">
          <h3>Custom datatypes</h3>
          <p>Automatic (de)serialization for custom data types.</p>
        </div>

        <div class="feature">
          <img src="img/icons/portable.png" alt="Highly portable">
          <h3>Highly portable</h3>
          <p>Runs anywhere from Linux to web browsers and Xen unikernels.</p>
        </div>

        <div class="feature">
          <img src="img/icons/git.png" alt="Git compatibility">
          <h3>Git compatibility</h3>
          <p>irmin-git uses an on-disk format that can be inspected and modified using Git.</p>
        </div>

        <div class="feature">
          <img src="img/icons/behavior.png" alt="Dynamic behavior">
          <h3>Dynamic behavior</h3>
          <p>Allows users to define custom merge functions, use in-memory transactions, and create event-driven workflows using a notification mechanism.</p>
        </div>
      </div>
    </section>

    <div class="wrapper">
      <section class="doc">
        <div class="colleft">
          <h2>Installation</h2>
          <p>To install Irmin, the command-line tool and all optional dependencies using opam:</p>
          <pre><code>opam install irmin-unix</code></pre>

          <p>A minimal installation, with no storage backends can be installed by running:</p>
          <pre><code>opam install irmin</code></pre>

          <p>To only install the in-memory storage backend:</p>
          <pre><code>opam install irmin-mem</code></pre>
          <br><br><br>
        </div>

        <div class="colright">
          <br><br><br>
          <p>The following packages have been made available on opam:</p>

          <ul>
            <li><code>irmin</code> - the base package, no storage implementations</li>
            <li><code>irmin-chunk</code> - chunked storage</li>
            <li><code>irmin-fs</code> - filesystem-based storage using bin_prot</li>
            <li><code>irmin-git</code> - Git compatible storage</li>
            <li><code>irmin-http</code> - a simple REST interface</li>
            <li><code>irmin-mem</code> - in-memory storage implementation</li>
            <li><code>irmin-mirage</code> - mirage compatibility</li>
            <li><code>irmin-unix</code> - unix compatibility</li>
          </ul>

          <p>For more information about an individual package consult the online documentation.</p>
        </div>
      </section>

      <div class="clearfix"></div>

      <section class="doc">
        <h2>Examples</h2>
        <p>Below is a simple example of setting a key and getting the value out of a Git based, filesystem-backed store.</p>

  <pre><code>open Lwt.Infix

(* Irmin store with string contents *)
module Store = Irmin_unix.Git.FS.KV(Irmin.Contents.String)

(* Database configuration *)
let config = Irmin_git.config ~bare:true "/tmp/irmin/test"

(* Commit author *)
let author = "Example <example@example.com>"

(* Commit information *)
let info fmt = Irmin_unix.info ~author fmt

let main =
    (* Open the repo *)
    Store.Repo.v config >>=

    (* Load the master branch *)
    Store.master >>= fun t ->

    (* Set key "foo/bar" to "testing 123" *)
    Store.set_exn t ~info:(info "Updating foo/bar") ["foo"; "bar"] "testing 123" >>= fun () ->

    (* Get key "foo/bar" and print it to stdout *)
    Store.get t ["foo"; "bar"] >|= fun x ->
    Printf.printf "foo/bar => '%s'\n" x

(* Run the program *)
let () = Lwt_main.run main</code></pre>

        <p>To compile the example above, save it to a file called example.ml and run:</p>
  <pre><code>$ ocamlfind ocamlopt example.ml -o example -package irmin-unix,lwt.unix -linkpkg
$ ./example
foo/bar => 'testing 123'</code></pre>

        <p>The examples directory contains some more advanced examples. The build them, run:</p>
  <pre><code>$ jbuilder build examples/trees.exe
$ _build/default/examples/trees.exe</code></pre>

      <h2>Command-line</h2>
      <p>The same thing can also be accomplished using irmin, the command-line application installed with irmin-unix, by running:</p>

  <pre><code>$ echo "root: ." > irmin.yml
$ irmin init
$ irmin set foo/bar "testing 123"
$ irmin get foo/bar</code></pre>

        <p>irmin.yml allows for irmin flags to be set on a per-directory basis. You can also set flags globally using <code>$HOME/.irmin/config.yml</code>. Run irmin help irmin.yml for further details.</p>

  Also see <code>irmin --help</code> for list of all commands and either <code>irmin <command> --help</code> or <code>irmin help <command></code> for more help with a specific command.</p>

        <h2>Explore further</h2>

        <p>
          <a class="button tutorial" href="/tutorial" class="button">
            <img src="img/icons/tutorial.png" alt=""> Tutorial
          </a>
          <a class="button issue" href="https://github.com/mirage/irmin/issues" class="button">
            <img src="img/icons/issue.png" alt=""> Issues
          </a>
          <a class="button license" href="https://github.com/mirage/irmin/blob/master/LICENSE.md" class="button">
            <img src="img/icons/license.png" alt=""> License
          </a>
        </p>
        <p>Development of Irmin was supported in part by the EU FP7 User-Centric Networking project, Grant No. 611001.</p>
      </section>
    </div>

  </body>
</html>
